=_Querying the provenance of data_=

*SPADE* supports two classes of queries. Both types are invoked in the *SPADE* shell with the `query` command. The first argument specifies the storage system that is to be queried. The second argument is either `vertices` or `lineage`.

===Finding provenance vertices===

The `vertices` class of queries lets the user find all the provenance vertices that have specific properties. The properties are framed as a query expression that can be evaluated by the storage system. The third argument is the expression to be matched.

----

For example, to query the `Neo4j` graph database for all vertices that have the annotation `date:02-15-1564` use:

{{{
-> query Neo4j vertices date:02-15-1564
[vertexId:1024        type:Artifact        date:02-15-1564        event:Galileo born]
}}}

In the case of `Neo4j`, the expressions can be framed using the full [http://lucene.apache.org/java/2_3_2/queryparsersyntax.html Lucene query syntax], including the use of wildcards, lexicographic ranges, Boolean operators, fuzzy matching, and proximity searches. 

----

===Retrieving lineage===

The `lineage` class of queries takes a 